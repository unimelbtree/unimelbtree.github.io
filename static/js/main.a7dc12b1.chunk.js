(this["webpackJsonpunimelb-subject-tree"]=this["webpackJsonpunimelb-subject-tree"]||[]).push([[0],{224:function(e,t,a){},578:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(46),r=a.n(c),i=a(86),o=(a(224),a(18)),s=a(620),l=a(21),d=a(4);var b=function(){var e=Object(l.a)(s.a)((function(e){return{color:e.theme.palette.getContrastText("#ffffff"),backgroundColor:"#ffffff","&:hover":{backgroundColor:"#bdbdbd"}}}));return Object(d.jsxs)("div",{className:"wrapper2",children:[Object(d.jsx)("h2",{className:"body",children:"Site is maintained by Bowen"}),Object(d.jsx)("h2",{className:"body",children:"Built using React + Material UI"}),Object(d.jsx)(e,{variant:"contained",href:"/",children:"Go back"})]})},u=a(22),j=a(623),h=a(624);var f=function(e){var t=Object(l.a)(s.a)((function(e){return{color:e.theme.palette.getContrastText("#ffffff"),backgroundColor:"#ffffff","&:hover":{backgroundColor:"#bdbdbd"}}}));return Object(d.jsx)("div",{children:Object(d.jsx)(j.a,{id:"search-popup",open:e.isOpen,anchorEl:document.getElementById("bruh"),placement:"auto-start",children:Object(d.jsx)(h.a,{sx:{border:"1px solid grey",p:1,bgcolor:"background.paper",marginTop:10,marginLeft:-15,display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",maxHeight:"60vh",overflow:"auto"},boxShadow:3,children:e.dataSource.map((function(e){return Object(d.jsx)(t,{href:"/#/subject/"+e,target:"_blank",children:e})}))})})})},p=a(206),O=a.n(p),x=a(615),m=a(67),g=a.n(m);var v=function(e){var t=e.baseurl,a=Object(n.useState)({dataSource:[]}),c=Object(u.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(!1),b=Object(u.a)(o,2),j=b[0],h=b[1],p=Object(n.useState)(null),m=Object(u.a)(p,2),v=m[0],k=m[1];function w(e,t){var a=[];return t.length>9||e.forEach((function(e){for(var n=!0,c=0;c<t.length;c++)if(e[c]!==t[c]){n=!1;break}n&&a.push(e)})),a}Object(n.useEffect)((function(){g.a.get(t+"/api/all_codes").then((function(e){k(e.data)}))}),[]);var y=Object(l.a)(s.a)((function(e){return{color:e.theme.palette.getContrastText("#ffffff"),backgroundColor:"#ffffff","&:hover":{backgroundColor:"#bdbdbd"}}}));return Object(d.jsxs)("div",{children:[Object(d.jsx)(f,{dataSource:r.dataSource,isOpen:j}),Object(d.jsx)("div",{className:"wrapper",children:Object(d.jsxs)("div",{className:"image",children:[Object(d.jsx)("img",{src:"https://i.pinimg.com/originals/9c/a8/d3/9ca8d301a7e109449bf480a11c09d4cc.png",width:150,height:150}),Object(d.jsx)("h1",{className:"logo",children:"Subject Tree"})]})}),null!=v&&Object(d.jsx)(O.a,{id:"bruh",dataSource:r.dataSource,placeholder:"Enter subject codes (or subject names)",onChange:function(e){""!==e?(i({dataSource:w(v,e.toLowerCase())}),h(!0)):h(!1)},onRequestSearch:function(e){return window.open("/#/search/"+e)},style:{margin:"0 auto",maxWidth:800,height:60,marginTop:50,border:"1px solid black"}}),null!=v&&Object(d.jsxs)(x.a,{spacing:25,direction:"row",alignItems:"center",justifyContent:"center",marginTop:7,children:[Object(d.jsx)(y,{variant:"contained",href:"https://handbook.unimelb.edu.au/search",children:"Official Handbook"}),Object(d.jsx)(y,{variant:"contained",href:"/#/about",children:"About"})]})]})},k=a(12),w=a.n(k),y=a(95),S=a(207),C=a(208),N=a.n(C);var T=function(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),c=a[0],r=a[1],i=[];function b(e){return j.apply(this,arguments)}function j(){return j=Object(S.a)(w.a.mark((function t(a){var n,c,r,o,s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g()(e.baseurl+"/api/search/"+a);case 2:if(n=t.sent,c=n.data,i.push(c.code),(r={}).name=c.name+" ("+c.code+")",r.children=[],null==c.childs){t.next=19;break}o=0;case 10:if(!(o<c.childs.length)){t.next=19;break}if(i.includes(c.childs[o])){t.next=16;break}return t.next=14,b(c.childs[o]);case 14:s=t.sent,r.children.push(s);case 16:o++,t.next=10;break;case 19:return t.abrupt("return",r);case 20:case"end":return t.stop()}}),t)}))),j.apply(this,arguments)}var h=Object(o.g)().code,f=Object(n.useState)(null),p=Object(u.a)(f,2),O=p[0],x=p[1];return Object(n.useEffect)((function(){g.a.get(e.baseurl+"/api/search/"+h).then((function(e){x(e.data)}))}),[]),Object(d.jsx)("div",{children:function(e){var t=Object(l.a)(s.a)((function(e){return{color:e.theme.palette.getContrastText("#ffffff"),backgroundColor:"#ffffff","&:hover":{backgroundColor:"#bdbdbd"}}}));if(null==e)return Object(d.jsx)("div",{});if(null==c)return b(e.code).then((function(e){r(e)})),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"wrapper",children:Object(d.jsx)("h1",{className:"subjectHead",children:e.name+" ("+e.code+")"})}),Object(d.jsx)("div",{className:"wrapperSubjectHandbook",children:Object(d.jsx)(t,{variant:"contained",href:"https://handbook.unimelb.edu.au/2022/subjects/"+e.code,target:"_blank",children:"Official Handbook Link"})}),Object(d.jsx)("div",{className:"wrapper",children:Object(d.jsx)("h3",{className:"loading",children:"Building tree... Please be patient, subject tree may be extremely large :)"})})]});var a={x:200,y:300},n={width:a.x,height:a.y,x:10,y:0};return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"wrapper",children:Object(d.jsx)("h1",{className:"subjectHead",children:e.name+" ("+e.code+")"})}),Object(d.jsx)("div",{className:"wrapperSubjectHandbook",children:Object(d.jsx)(t,{variant:"contained",href:"https://handbook.unimelb.edu.au/2022/subjects/"+e.code,target:"_blank",children:"Official Handbook Link"})}),Object(d.jsx)("div",{className:"wrapper",children:Object(d.jsx)("h4",{className:"loading",children:'Click on each node to view its "child" subjects!'})}),Object(d.jsx)("div",{style:{width:"90vw",height:"80vh",alignItems:"center"},children:Object(d.jsx)(N.a,{pathFunc:"diagonal",data:c,orientation:"vertical",separation:{siblings:2},enableLegacyTransitions:!0,initialDepth:1,translate:{x:window.innerWidth/2,y:window.innerHeight/3},renderCustomNodeElement:function(e){return function(e){var t=e.nodeDatum,a=e.toggleNode,n=e.foreignObjectProps;return Object(d.jsxs)("g",{children:[Object(d.jsx)("circle",{r:15,fill:"white",onClick:a}),Object(d.jsx)("foreignObject",Object(y.a)(Object(y.a)({},n),{},{children:Object(d.jsx)("div",{children:Object(d.jsx)("h3",{style:{color:"white",fontFamily:"Avenir Next Cyr Thin"},children:t.name})})}))]})}(Object(y.a)(Object(y.a)({},e),{},{foreignObjectProps:n}))}})})]})}(O)})},H=a(622),E=a(617),I=a(616),L=a(618);var _=function(e){return Object(d.jsx)(H.a,{sx:{width:"100%",maxWidth:700,bgcolor:"background.paper",overflow:"auto",maxHeight:"75vh"},children:null!=e.dataSource&&e.dataSource.map((function(e){return Object(d.jsx)(E.a,{children:Object(d.jsx)(I.a,{component:"a",href:window.location.protocol+"//"+window.location.hostname+":"+window.location.port+"/#/subject/"+e.obj.code,target:"_blank",children:Object(d.jsx)(L.a,{primary:e.obj.name,secondary:e.obj.code})})})}))})};var B=function(e){var t=Object(o.g)().name,a=Object(n.useState)(null),c=Object(u.a)(a,2),r=c[0],i=c[1];return Object(n.useEffect)((function(){g.a.get(e.baseurl+"/api/match/"+t).then((function(e){i(e.data)}))}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"wrapper",children:Object(d.jsxs)("h1",{className:"searchTitle",children:["Search results for: ",t]})}),Object(d.jsx)("div",{className:"wrapper",style:{marginTop:50},children:Object(d.jsx)(_,{dataSource:r})})]})},z=a(209),D=a.n(z);var P=function(){var e="https://unimelb-subject-tree-backend.ts.r.appspot.com";return Object(d.jsxs)("div",{style:{backgroundImage:"linear-gradient(to right, #4880EC, #019CAD)",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100vw",height:"100vh"},children:[Object(d.jsx)(D.a,{options:{fpsLimit:60,interactivity:{events:{onClick:{enable:!1,mode:"push"},onHover:{enable:!0,mode:"repulse"},resize:!0},modes:{bubble:{distance:400,duration:2,opacity:.2,size:40},push:{quantity:4},repulse:{distance:200,duration:.2}}},particles:{color:{value:"#ffffff"},links:{color:"#dad7d7",distance:150,enable:!0,opacity:.3,width:1},collisions:{enable:!1},move:{direction:"none",enable:!0,outMode:"bounce",random:!1,speed:1.3,straight:!1},number:{density:{enable:!0,value_area:800},value:40},opacity:{value:.5},shape:{type:"circle"},size:{random:!0,value:5}},detectRetina:!0}}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{exact:!0,path:"/",element:Object(d.jsx)(v,{baseurl:e})}),Object(d.jsx)(o.a,{path:"/about",element:Object(d.jsx)(b,{})}),Object(d.jsx)(o.a,{path:"/subject/:code",element:Object(d.jsx)(T,{baseurl:e})}),Object(d.jsx)(o.a,{path:"/search/:name",element:Object(d.jsx)(B,{baseurl:e})})]})]})};r.a.render(Object(d.jsx)(i.a,{basename:"/",children:Object(d.jsx)(P,{})}),document.getElementById("root"))}},[[578,1,2]]]);
//# sourceMappingURL=main.a7dc12b1.chunk.js.map