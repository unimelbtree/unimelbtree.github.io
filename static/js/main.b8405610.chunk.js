(this["webpackJsonpunimelb-subject-tree"]=this["webpackJsonpunimelb-subject-tree"]||[]).push([[0],{247:function(e,t,a){},605:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(26),r=a.n(c),i=a(98),s=(a(247),a(19)),o=a(18),l=a(658),d=a(21),b=a(3);var j=function(){var e=Object(d.a)(l.a)((function(e){return{color:e.theme.palette.getContrastText("#ffffff"),backgroundColor:"#ffffff","&:hover":{backgroundColor:"#bdbdbd"}}}));return Object(b.jsxs)("div",{className:"wrapper2",children:[Object(b.jsx)("h2",{className:"body",children:"Site is maintained by Bowen. Shoutout to kasie for random ideas"}),Object(b.jsx)("h2",{className:"body",children:"Built using React + Material UI"}),Object(b.jsx)(e,{variant:"contained",href:"/#",children:"Go back"})]})},u=a(649),h=a(661);var f=function(e){var t=e.isOpen,a=Object(d.a)(l.a)((function(e){return{color:e.theme.palette.getContrastText("#ffffff"),backgroundColor:"#ffffff","&:hover":{backgroundColor:"#bdbdbd"}}}));return 0===e.dataSource.length&&(t=!1),Object(b.jsx)("div",{children:Object(b.jsx)(u.a,{id:"search-popup",open:t,anchorEl:document.getElementById("bruh"),placement:"auto-start",children:Object(b.jsx)(h.a,{sx:{border:"1px solid grey",p:1,bgcolor:"background.paper",marginTop:10,marginLeft:-15,display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",maxHeight:"55vh",overflow:"auto"},boxShadow:3,children:e.dataSource.map((function(e){return Object(b.jsx)(a,{href:"/#/subject/"+e,target:"_blank",children:e})}))})})})},O=a(224),p=a.n(O),x=a(61),m=a.n(x),v=a(89),g=a.n(v),w=Object(n.createContext)(null);var k=function(e){var t=e.baseurl,a=Object(n.useState)({dataSource:[]}),c=Object(s.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(!1),j=Object(s.a)(o,2),u=j[0],h=j[1],O=Object(n.useState)(null),x=Object(s.a)(O,2),v=x[0],k=x[1],y=Object(n.useContext)(w),N=Object(s.a)(y,2),S=N[0],C=N[1];function T(e,t){var a=[];return t.length>9||e.forEach((function(e){for(var n=!0,c=0;c<t.length;c++)if(e[c]!==t[c]){n=!1;break}n&&a.push(e)})),a}Object(n.useEffect)((function(){m.a.get(t+"/api/code/all").then((function(e){k(e.data)}))}),[]);var E=Object(d.a)(l.a)((function(e){return{color:e.theme.palette.getContrastText("#ffffff"),backgroundColor:"#ffffff","&:hover":{backgroundColor:"#bdbdbd"}}})),H=Math.round(.17*window.innerWidth),P=Math.round(.3*window.innerWidth);return Object(b.jsxs)("div",{children:[Object(b.jsx)(f,{dataSource:r.dataSource,isOpen:u}),Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsxs)("div",{className:"image",children:[Object(b.jsx)("img",{src:"https://i.pinimg.com/originals/9c/a8/d3/9ca8d301a7e109449bf480a11c09d4cc.png",width:P<=150?P:150,height:P<=150?P:150}),Object(b.jsx)("h1",{className:"logo",style:{marginLeft:e.isMobile?"0vw":"3vw",fontSize:e.isMobile&&H<=80?H.toString()+"px":"80px"},children:"Subject Tree"})]})}),null==v&&Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsx)(g.a,{type:"spinningBubbles",color:"white"})}),Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsx)("h1",{className:"loading",children:"Page loading... Please wait"})})]}),null!=v&&Object(b.jsx)(p.a,{id:"bruh",dataSource:r.dataSource,placeholder:"Enter subject codes (or subject names)",onChange:function(e){""!==e?(i({dataSource:T(v,e.toLowerCase())}),h(!0)):h(!1)},onRequestSearch:function(e){/[a-zA-Z0-9]/.test(e)?e.length>40?alert("Search is too long"):window.open("/#/search/"+e,"_self"):alert("Empty search values are not allowed")},style:{margin:"0 auto",maxWidth:800,height:60,marginTop:50,border:"1px solid black"}}),null!=v&&Object(b.jsxs)("div",{className:"wrapperHomepage",children:[Object(b.jsx)(E,{variant:"contained",href:"https://handbook.unimelb.edu.au/search",target:"_blank",children:"Official Handbook"}),Object(b.jsx)(E,{variant:"contained",href:"/#/about",children:"About"}),Object(b.jsx)(E,{variant:"contained",onClick:function(){return C(!S)},children:S?"Play music: ON":"Play music: OFF"})]})]})},y=a(13),N=a.n(y),S=a(106),C=a(225),T=a(226),E=a.n(T),H=a(656),P=a(659),L=a(227),z=a.n(L),B=a(179),A=a(653),M=a(662);var W=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),c=a[0],r=a[1],i=Boolean(c),o=Object(n.useContext)(w),l=Object(s.a)(o,2),d=l[0],j=l[1];return Object(b.jsx)("div",{children:Object(b.jsx)(H.a,{position:"static",children:Object(b.jsxs)(P.a,{sx:{backgroundColor:"#1876D2"},children:[Object(b.jsx)(B.a,{id:"menu-button",size:"medium",color:"inherit","aria-label":"menu","aria-controls":"navbar-menu","aria-haspopup":"true",sx:{mr:2},onClick:function(e){r(e.currentTarget)},children:Object(b.jsx)(z.a,{})}),Object(b.jsxs)(A.a,{id:"navbar-menu",anchorEl:c,open:i,onClose:function(){r(null)},MenuListProps:{"aria-labelledby":"menu-button"},children:[Object(b.jsx)(M.a,{onClick:function(){return window.location.href="/#"},children:"Home"}),Object(b.jsx)(M.a,{onClick:function(){return window.location.href="/#/about"},children:"About"}),Object(b.jsx)(M.a,{onClick:function(){return j(!d)},children:d?"Play music: ON":"Play music: OFF"})]}),Object(b.jsx)("h1",{className:"navbar-text",children:"Unimelb Subject Tree"})]})})})};var _=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),c=a[0],r=a[1],i=[];function j(e){return u.apply(this,arguments)}function u(){return u=Object(C.a)(N.a.mark((function t(a){var n,c,r,s,o,l;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m()(e.baseurl+"/api/search/"+a);case 2:if(n=t.sent,c=n.data,i.push(c.code),(r={}).name=c.name+" ("+c.code+")",!(null!=c.childs&&c.childs.length>0)){t.next=22;break}r.children=[],s=0,o=0;case 11:if(!(o<c.childs.length)){t.next=21;break}if(i.includes(c.childs[o])){t.next=18;break}return t.next=15,j(c.childs[o]);case 15:l=t.sent,r.children.push(l),s++;case 18:o++,t.next=11;break;case 21:0===s&&(r.children=null);case 22:return t.abrupt("return",r);case 23:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}var h=Object(o.g)().code,f=Object(n.useState)(null),O=Object(s.a)(f,2),p=O[0],x=O[1];return Object(n.useEffect)((function(){m.a.get(e.baseurl+"/api/search/"+h).then((function(e){x(e.data)}))}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)(W,{}),function(e){var t=Object(d.a)(l.a)((function(e){return{color:e.theme.palette.getContrastText("#ffffff"),backgroundColor:"#ffffff","&:hover":{backgroundColor:"#bdbdbd"}}}));if(null==e)return Object(b.jsx)("div",{});if(null==c)return j(e.code).then((function(e){r(e)})),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsx)("h1",{className:"subjectHead",children:e.name+" ("+e.code+")"})}),Object(b.jsx)("div",{className:"wrapperSubjectHandbook",children:Object(b.jsx)(t,{variant:"contained",href:"https://handbook.unimelb.edu.au/2022/subjects/"+e.code,target:"_blank",children:"Official Handbook Link"})}),Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsx)("h3",{className:"loading",children:"Building tree... Please be patient, subject tree may be extremely large :)"})}),Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsx)(g.a,{type:"spinningBubbles",color:"white"})})]});var a={x:200,y:300},n={width:a.x,height:a.y,x:10,y:0},i=Object(b.jsx)(E.a,{pathFunc:"diagonal",data:c,orientation:"vertical",separation:{siblings:2.5},enableLegacyTransitions:!0,initialDepth:1,translate:{x:window.innerWidth/2,y:window.innerHeight/15},renderCustomNodeElement:function(e){return function(e){var t=e.nodeDatum,a=e.toggleNode,n=e.foreignObjectProps;return Object(b.jsxs)("g",{children:[Object(b.jsx)("circle",{r:15,fill:t.children?"white":"black",onClick:a}),Object(b.jsx)("foreignObject",Object(S.a)(Object(S.a)({},n),{},{children:Object(b.jsx)("div",{children:Object(b.jsx)("h3",{style:{color:"white",fontFamily:"Avenir Next Cyr Thin"},children:t.name})})}))]})}(Object(S.a)(Object(S.a)({},e),{},{foreignObjectProps:n}))}});return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsx)("h1",{className:"subjectHead",children:e.name+" ("+e.code+")"})}),Object(b.jsxs)("div",{className:"wrapperSubjectHandbook",children:[Object(b.jsx)(t,{variant:"contained",href:"https://handbook.unimelb.edu.au/2022/subjects/"+e.code,target:"_blank",children:"Official Handbook Link"}),Object(b.jsx)(t,{variant:"contained",onClick:function(){window.location.reload()},children:"Reset Subject Tree"})]}),Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsx)("h4",{className:"loading",children:"Click on the white nodes to view further possible subject paths!"})}),Object(b.jsx)("div",{style:{width:"100vw",height:"73vh",backgroundColor:"transparent"},children:i})]})}(p)]})},D=a(660),F=a(654),I=a(652),R=a(655);var U=function(e){return Object(b.jsx)(D.a,{sx:{width:"100%",maxWidth:700,bgcolor:"background.paper",overflow:"auto",maxHeight:"75vh"},children:null!=e.dataSource&&e.dataSource.map((function(e){return Object(b.jsx)(F.a,{children:Object(b.jsx)(I.a,{component:"a",href:window.location.protocol+"//"+window.location.hostname+":"+window.location.port+"/#/subject/"+e.obj.code,children:Object(b.jsx)(R.a,{primary:e.obj.name,secondary:e.obj.code})})})}))})};var q=function(e){var t=Object(o.g)().name,a=Object(n.useState)(null),c=Object(s.a)(a,2),r=c[0],i=c[1],j=Object(n.useState)(null),u=Object(s.a)(j,2),h=u[0],f=u[1];return Object(d.a)(l.a)((function(e){return{color:e.theme.palette.getContrastText("#ffffff"),backgroundColor:"#ffffff","&:hover":{backgroundColor:"#bdbdbd"}}})),Object(n.useEffect)((function(){m.a.get(e.baseurl+"/api/code/all_codes").then((function(a){4===t.length&&a.data.includes(t.toLowerCase())||t.length>4&&/[A-Za-z]{4}[0-9]{1,5}/.test(t)&&a.data.includes(t.toLowerCase().slice(0,4))?m.a.get(e.baseurl+"/api/code/match/"+t).then((function(e){f(!0),i(e.data)})):m.a.get(e.baseurl+"/api/match/"+t).then((function(e){f(!1),i(e.data)}))}))}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)(W,{}),function(e){return null==e?Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsx)("h1",{className:"searchTitle",children:"Searching..."})}),Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsx)(g.a,{type:"spinningBubbles",color:"white"})})]}):0===e.length?Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsxs)("h1",{className:"searchTitle",children:["Search results for: ",t]})}),Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsx)("h1",{className:"searchTitle",children:"No search results returned :("})})]}):!0===h?Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsxs)("h1",{className:"searchTitle",children:["Search results for: ",t," (subject code detected)"]})}),Object(b.jsx)("div",{className:"wrapper",style:{marginTop:30},children:Object(b.jsx)(U,{dataSource:e})})]}):Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsxs)("h1",{className:"searchTitle",children:["Search results for: ",t]})}),Object(b.jsx)("div",{className:"wrapper",style:{marginTop:30},children:Object(b.jsx)(U,{dataSource:e})})]})}(r)]})},G=a(228),J=a.n(G),Z=a.p+"static/media/wiitheme.d4e6ded8.mp3",Y=a(146),K=a.n(Y);var Q=function(){var e="https://unimelb-subject-tree-backend.ts.r.appspot.com",t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(window.innerWidth),l=Object(s.a)(i,2),d=l[0],u=l[1];function h(){u(window.innerWidth)}Object(n.useEffect)((function(){return window.addEventListener("resize",h),function(){window.removeEventListener("resize",h)}}),[]);var f=d<=768,O="";return O=window.innerHeight<500?"180vh":"100vh",Object(b.jsx)("div",{style:{backgroundImage:"linear-gradient(to right, #4880EC, #019CAD)",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"repeat",width:"100vw",height:O},children:Object(b.jsxs)(w.Provider,{value:[c,r],children:[Object(b.jsx)(K.a,{url:Z,playStatus:c?K.a.status.PLAYING:K.a.status.PAUSED,volume:15,loop:!0}),Object(b.jsx)(J.a,{options:{fpsLimit:60,interactivity:{events:{onClick:{enable:!1,mode:"push"},onHover:{enable:!0,mode:"repulse"},resize:!0},modes:{bubble:{distance:400,duration:2,opacity:.2,size:40},push:{quantity:4},repulse:{distance:200,duration:.2}}},particles:{color:{value:"#ffffff"},links:{color:"#dad7d7",distance:150,enable:!0,opacity:.3,width:1},collisions:{enable:!1},move:{direction:"none",enable:!0,outMode:"bounce",random:!1,speed:1.3,straight:!1},number:{density:{enable:!0,value_area:800},value:40},opacity:{value:.5},shape:{type:"circle"},size:{random:!0,value:5}},detectRetina:!0}}),Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/",element:Object(b.jsx)(k,{baseurl:e,isMobile:f})}),Object(b.jsx)(o.a,{path:"/about",element:Object(b.jsx)(j,{})}),Object(b.jsx)(o.a,{path:"/subject/:code",element:Object(b.jsx)(_,{baseurl:e})}),Object(b.jsx)(o.a,{path:"/search/:name",element:Object(b.jsx)(q,{baseurl:e})})]})]})})};r.a.render(Object(b.jsx)(i.a,{basename:"/",children:Object(b.jsx)(Q,{})}),document.getElementById("root"))}},[[605,1,2]]]);
//# sourceMappingURL=main.b8405610.chunk.js.map